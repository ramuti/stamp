<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>スタンプカード</title>
<style>
body { font-family: 'Yu Gothic','Hiragino Kaku Gothic ProN',sans-serif; background: #fff0f5; padding: 20px; color: #c44a7b; }
h1 { margin: 8px 0; }
input[type=text], input[type=color], textarea { padding:6px 10px; border-radius:8px; border:1px solid #ffa6c9; margin-right:6px; background:#fff; color:#000; font-size:16px; }
button { padding:6px 10px; border-radius:8px; border:none; background:#ff99cc; color:#fff; cursor:pointer; transition:0.2s; }
button:hover { background:#ff66b3; }
.card { border:2px dashed #ffb6c1; border-radius:12px; padding:12px; margin:12px 0; background:#fff0f5; }
.stamp-slot { display:inline-block; width:28px; height:28px; border:2px solid #ff99cc; border-radius:6px; margin:2px; background:#fff; vertical-align:middle; transition:0.2s; }
.stamp-filled { background:#ff69b4; }
.serial { font-size:0.85em; margin-left:10px; color:#666; }
#userCards { margin-top:12px; }
#colorSettings { margin-top:16px; border:1px solid #ffa6c9; padding:8px; border-radius:8px; background:#ffe6f0; }
#colorSettings label { margin-right:8px; font-size:0.9rem; }
ul { padding-left:20px; }
</style>
</head>
<body class="user">

<h1 id="cardTitle">スタンプカード</h1>

<div style="margin-top:16px;">
  <input type="text" id="userNameInput" placeholder="名前を入力">
  <button id="setNameBtn">変更</button>
</div>

<hr>

<div style="margin-top:16px;">
  <input type="text" id="addCardPass" placeholder="追加パス">
  <button id="addCardBtn">カード追加</button>
</div>

<div id="userCards"></div>

<h3>スタンプ履歴</h3>
<ul id="stampHistory"></ul>

<h3>更新履歴</h3>
<ul id="updateLogs"></ul>

<h3>見た目設定</h3>
<div id="colorSettings">
  <label>文字色: <input type="color" id="textColor" value="#c44a7b"></label>
  <label>背景色: <input type="color" id="bgColor" value="#fff0f5"></label>
  <label>ボタン色: <input type="color" id="btnColor" value="#ff99cc"></label>
</div>

<!-- update.js 読み込み（キャッシュ回避） -->
<script>
(function(){
  const ts = new Date().getTime();
  const s = document.createElement("script");
  s.src = `update.js?ts=${ts}`;
  s.onload = () => console.log("update.js 読み込み成功");
  s.onerror = () => alert("update.js 読み込まれてません！");
  document.head.appendChild(s);
})();
</script>

<!-- メインスクリプト -->
<script src="script.js"></script>

</body>
</html>